import { defineComponent } from "vue";
import { Motion } from "motion-v";
import "./Message.scss";

const messageConfig = {
  icon: {
    Info: "M511.203556 965.518222a452.778667 452.778667 0 0 1-321.251556-133.12A452.778667 452.778667 0 0 1 56.888889 511.260444 452.721778 452.721778 0 0 1 190.008889 190.008889 452.778667 452.778667 0 0 1 511.146667 56.888889a452.778667 452.778667 0 0 1 321.251555 133.12 452.778667 452.778667 0 0 1 133.12 321.194667 452.778667 452.778667 0 0 1-133.12 321.251555 452.778667 452.778667 0 0 1-321.251555 133.12z m0-844.117333c-104.106667 0-201.955556 40.561778-275.626667 114.176a387.242667 387.242667 0 0 0-114.176 275.626667c0 104.106667 40.561778 202.012444 114.176 275.626666a387.242667 387.242667 0 0 0 275.626667 114.176c104.106667 0 202.012444-40.561778 275.626666-114.176a387.242667 387.242667 0 0 0 114.176-275.626666c0-104.106667-40.561778-201.955556-114.176-275.626667a387.242667 387.242667 0 0 0-275.626666-114.176z m0 106.097778c15.701333 0 37.432889 13.653333 37.432888 32.028444v331.832889c0 18.318222-21.731556 32.824889-37.432888 32.824889s-37.432889-14.506667-37.432889-32.824889V259.527111c0-18.375111 21.731556-32.028444 37.432889-32.028444z m5.006222 565.475555a56.888889 56.888889 0 1 1 0-113.777778 56.888889 56.888889 0 0 1 0 113.777778z",
    Error: [
      "M942.792571 235.113605c-73.898726-114.998017-188.296753-194.296649-321.894449-223.296149-133.597696-28.9995-270.495335-4.199928-385.493352 69.698798-21.299633 13.699764-27.499526 42.099274-13.799762 63.398907 13.699764 21.299633 42.099274 27.499526 63.398907 13.799762 94.298374-60.698953 206.696435-80.998603 316.294545-57.199014 109.59811 23.79959 203.396492 88.898467 264.095445 183.196841 125.297839 194.796641 68.698815 455.19215-125.997827 580.489989-94.298374 60.698953-206.696435 80.998603-316.294545 57.199013-109.59811-23.79959-203.49649-88.898467-264.095445-183.19684-93.198393-144.997499-88.998465-329.594316 10.799814-470.191891 14.699746-20.699643 9.799831-49.29915-10.899813-63.998897-20.699643-14.699746-49.29915-9.799831-63.998896 10.899812-121.597903 171.397044-126.697815 396.293165-12.999776 572.990118 73.998724 114.998017 188.296753 194.296649 321.894449 223.29615 36.499371 7.899864 73.198738 11.799796 109.59811 11.799796 97.098325 0 192.196685-27.799521 275.795243-81.498594 237.295908-152.697367 306.194719-469.991894 153.597352-707.387801z",
      "M356.302685 667.706145c8.999845 8.999845 20.699643 13.399769 32.49944 13.399769s23.499595-4.499922 32.499439-13.399769l90.798434-90.798434 90.798434 90.798434c8.999845 8.999845 20.699643 13.399769 32.49944 13.399769s23.499595-4.499922 32.499439-13.399769c17.899691-17.899691 17.899691-46.999189 0-64.898881l-90.99843-90.798434 90.798434-90.798434c17.899691-17.899691 17.899691-46.999189 0-64.898881-17.899691-17.899691-46.999189-17.899691-64.898881 0L512 447.109949l-90.798434-90.798434c-17.899691-17.899691-46.999189-17.899691-64.898881 0-17.899691 17.899691-17.899691 46.999189 0 64.898881l90.798434 90.798434-90.798434 90.798434c-17.899691 17.899691-17.899691 46.899191 0 64.898881z",
    ],
    Warn: [
      "M585.898667 213.333333l295.616 512c32.853333 56.896-8.213333 128-73.92 128H216.405333c-65.706667 0-106.752-71.104-73.92-128l295.616-512a86.613333 86.613333 0 0 1 14.421334-18.666666c38.186667-37.333333 104.64-31.104 133.376 18.666666z m-36.949334 21.333334c-16.426667-28.437333-57.472-28.437333-73.898666 0L179.456 746.666667c-16.426667 28.437333 4.096 64 36.949333 64h591.189334c32.853333 0 53.376-35.562667 36.970666-64L548.949333 234.666667z",
      "M512 320a21.333333 21.333333 0 0 1 21.333333 21.333333v277.333334a21.333333 21.333333 0 1 1-42.666666 0V341.333333a21.333333 21.333333 0 0 1 21.333333-21.333333z",
      "M554.666667 704a42.666667 42.666667 0 1 1-85.333334 0 42.666667 42.666667 0 0 1 85.333334 0z",
    ],
    Success:
      "M512 0C230.4 0 0 230.4 0 512c0 281.6 230.4 512 512 512 281.6 0 512-230.4 512-512C1024 230.4 793.6 0 512 0zM512 960c-249.6 0-448-204.8-448-448 0-249.6 204.8-448 448-448 249.6 0 448 198.4 448 448C960 761.6 761.6 960 512 960zM691.2 339.2 454.4 576 332.8 454.4c-19.2-19.2-51.2-19.2-76.8 0C243.2 480 243.2 512 262.4 531.2l153.6 153.6c19.2 19.2 51.2 19.2 70.4 0l51.2-51.2 224-224c19.2-19.2 25.6-51.2 0-70.4C742.4 320 710.4 320 691.2 339.2z",
  },
  color: {
    Info: "#AFF1FF",
    Error: "#FFAFAF",
    Warn: "#FFFCAF",
    Success: "#D5FFAF",
  },
};

export default defineComponent({
  name: "Message",
  props: {
    messageType: {
      type: String,
      default: "Info",
    },
    message: {
      type: String,
      required: true,
    },
  },
  setup(props) {
    return () => (
      <Motion
        initial={{ opacity: 0, y: -10 }}
        animate={{ opacity: 1, y: 0 }}
        exit={{ opacity: 0, y: -10 }}
        transition={{ duration: 0.3, ease: "easeInOut" }}
        class="message-container"
        style={{
          border: `1px solid ${messageConfig.color[props.messageType as keyof typeof messageConfig.color]}`,
          backgroundColor: "transparent",
          color: messageConfig.color[props.messageType as keyof typeof messageConfig.color],
        }}
      >
        <svg class="icon" viewBox="0 0 1024 1024" width="16" height="16">
          {Array.isArray(
            messageConfig.icon[props.messageType as keyof typeof messageConfig.icon]
          ) ? (
            (
              messageConfig.icon[props.messageType as keyof typeof messageConfig.icon] as string[]
            ).map((d, i) => (
              <path
                key={i}
                d={d}
                fill={messageConfig.color[props.messageType as keyof typeof messageConfig.color]}
              ></path>
            ))
          ) : (
            <path
              d={messageConfig.icon[props.messageType as keyof typeof messageConfig.icon] as string}
              fill={messageConfig.color[props.messageType as keyof typeof messageConfig.color]}
            ></path>
          )}
        </svg>
        <span>{props.message}</span>
      </Motion>
    );
  },
});
